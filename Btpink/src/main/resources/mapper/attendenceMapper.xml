<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="xyz.btpink.www.dao.AttendenceMapper">

<select id="selectAtd" resultType="Attendence">
	select s.stdno, s.name, a.absent, a.early, a.sick, a.late from student s inner join attendence a on s.stdno=a.stdno and a.today=to_char(sysdate, 'yy/mm/dd') and a.classno=#{classno}

</select>
<select id="getEmotionList" parameterType="string" resultType="Attendence">
	select today, emotion
	from attendence
	where stdno = #{stdno}
</select>

<select id="checkAtd" resultType="Attendence">
	select * from attendence where today = to_char(sysdate, 'yy/mm/dd')
</select>

<!-- 작업중 -->
<insert id="insertInitAtd" parameterType="String">
	insert into attendence values (#{stdno}, #{classno}, to_char(sysdate, 'yy/mm/dd'), 1, 0, 0, 0, '')
</insert>

</mapper>
